<!DOCTYPE html>
<head>
    <title>Etch-a-Sketch</title>
    <style>
        @import url(reset.css);
        .drawArea{
            width: 500px;
            height: 500px;
            background-color: grey;
        }

        .box{
            background-color: blue; 
            height: 100%;
        }

        .trail{
            background-color: green;
        }

        .row{
            display: flex;
            width: 100%;
        }

    </style>
</head>
<body>
    <div class = "drawArea"></div>
    <input type = "button" id = "clear" value = "Clear" ></input>
    <input type = "range" id = "gridSizer" min="0" max = "100"></input>

<script>
    let drawArea = document.querySelector(".drawArea");

    function createRow(userSize){
       let row = document.createElement("div");
       row.classList.add("row");
       
       for (numBoxes=0; numBoxes < userSize; numBoxes++){
           let box = document.createElement("div");
           box.classList.add("box");
           row.appendChild(box);

            //set size of boxes and rows
           let width = (100 / userSize)+ "%"; 
           row.style.height = width;
           box.style.width = width;

           drawArea.appendChild(row);
        } 
    }

   function createArea(userSize){
        for(numRows=0; numRows < userSize; numRows++){
        createRow(userSize);
        }
    }
    
    //create the inital drawing area
    let gridSizer = document.getElementById("gridSizer");
    createArea(gridSizer.value);

    let boxes = document.querySelectorAll(".box");
    boxes.forEach(box => box.addEventListener("mouseover", () =>{
        box.classList.add("trail");
    }));

    let clear = document.getElementById("clear");
    clear.addEventListener("click", ()=>{
        boxes.forEach(box => box.classList.remove("trail"))
    });

    //recreate drawing area when gride size slider is changed
    gridSizer.addEventListener("change", ()=>{
        //first remove the initial drawing area
        let rows = document.querySelectorAll(".row");
        rows.forEach(row => row.remove());

        createArea(gridSizer.value);

        let boxes = document.querySelectorAll(".box");
        boxes.forEach(box => box.addEventListener("mouseover", () =>{
            box.classList.add("trail");
        }));

        let clear = document.getElementById("clear");
        clear.addEventListener("click", ()=>{
            boxes.forEach(box => box.classList.remove("trail"))
        });
    });

    

    



</script>
</body>
</html>